<!DOCTYPE html>
<!--[if IE]><![endif]-->
<!--[if IE 8 ]><html dir="ltr" lang="en" class="ie8"><![endif]-->
<!--[if IE 9 ]><html dir="ltr" lang="en" class="ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html dir="ltr" lang="en">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="format-detection" content="telephone=no">
<title>MyExamPrep</title>
<link href="../images/favicon1.png" rel="icon" />
<!-- <base href="http://localhost:8080/myexamsprep/backoffice/" /> -->
<meta name="description" content="Personalized Tutoring" />
<script src="../js/jquery-2.1.1.min.js" type="text/javascript"></script>
<link href="../css/bootstrap.min.css" rel="stylesheet" media="screen" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="../js/bootstrap.min.js" type="text/javascript"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet" type="text/css">
<link href="../css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="../css/magnific-popup.css" />
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,400i,300,700" rel="stylesheet" type="text/css" />
<link href="../css/owl.carousel.min.css" rel="stylesheet">
<script src="../js/owl.carousel.min.js" type="text/javascript"></script>
<script src="../js/theme.js" type="text/javascript"></script>
<link href="../css/stylesheet.css?ver=4" rel="stylesheet">



<script src="../js/common.js" type="text/javascript"></script>
<script src="../js/support.js" type="text/javascript"></script>
<link href="../css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<script src="../js/jquery.magnific-popup.min.js"></script>
<script src="../js/moment.min.js" type="text/javascript"></script>
<script src="../js/moment-with-locales.min.js" type="text/javascript"></script>
<script src="../js/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
<!-- <link href="../image/cart.png" rel="icon" /> -->


<!-- #Angular Js -->
<script src="../angular_js/angular.min.js" type="text/javascript"></script>
<script src="../angular_js/angular-route.js" type="text/javascript"></script>
<script src="../angular_js/angular-animate.js" type="text/javascript"></script>
<script src="../angular_js/angular-sanitize.js" type="text/javascript"></script>

<!-- Material Angular -->
<script src="../angular_js/material/angular-aria.min.js" type="text/javascript"></script>
<script src="../angular_js/material/angular-material.js" type="text/javascript"></script>
<link href="../angular_js/material/angular-material.css" rel="stylesheet" type="text/css" />

<!-- ANIMATION -->
<link href="../css/animation/animate.min.css" rel="stylesheet" type="text/css" />

<!-- Pageing -->
<script src="../angular_js/dirPagination.js" type="text/javascript"></script>
<script src="code/dashboard.js?ver=4"></script>
</head>
<style>
   /* Scroll Table Start*/
   .att-table, 
  .ann-table{
    max-height:500px;overflow-y:auto; 
  } 

  div.online-indicator {
    display: inline-block;  
    width: 15px;
    height: 15px;
    /* margin-right: 10px; */
    
    /* background-color: #0fcc45; */
    border-radius: 50%;
    
    position: relative;
  }
  span.blink {
    display: block;
    width: 15px;
    height: 15px;
    
    background-color: #0fcc45;
    opacity: 0.7;
    border-radius: 50%;
    
    animation: blink 1s linear infinite;
  }
  span.blink_offline {
    display: block;
    width: 15px;
    height: 15px;
    
    background-color: #cc250f;
    opacity: 0.7;
    border-radius: 50%;
    
    animation: blink 1s linear infinite;
  }
  @keyframes blink {
    100% { transform: scale(2, 2); 
            opacity: 0;
          }
  }
</style>
<body data-ng-app="myApp" data-ng-controller="myCtrl" data-ng-init="init()" class="d-flex flex-column min-vh-100">

  <!-- Header -->
  <div id="menu_wrapper"></div>
  <header id="header" class="home">
    
    <div ng-include="'include/header.html?ver=4'"></div>
  </header>


  <div id="spin-wrapper"></div>
  <div id="siteloader">
      <div class="loader loader-1"></div>
  </div>

<!-- ======= Quick view JS ========= -->
<!--  style="min-height: 620px;" -->
	<div id="common-home">    
    <div class="content_middle">
        <section class="ishiproductsblock container">
          <div class="section-header">
            <div class="row">
              <div class="col-sm-12 col-md-6 col-lg-4 d-flex align-items-center justify-content-center justify-content-md-start mt-1 pb-2">
                <button ng-class="{'border border-dark': itsChecking}" id="btnStatus" class="btn btn-light text-nowrap font-18 rounded shadow mx-2 d-flex align-items-center justify-content-between flex-column" 
                      data-toggle="modal" data-target="#onOffModal" style="background: #ffffff;" ng-click="setOnlineTime()">
                      <div class="row">
                        <div class="col-12">
                          <span class="mr-2" ng-bind="isOnline?'ONLINE':'OFFLINE'"> </span>
                          <div class="online-indicator text-center" style="background-color: #0fcc45;" ng-if="isOnline">
                            <span class="blink"></span>
                          </div>
                          <div class="online-indicator text-center" style="background-color: #cc250f;" ng-if="!isOnline">
                            <span class="blink_offline"></span>
                          </div>
                        </div>
                      </div>
                      <div class="row" ng-if="isOnline">
                        <div class="col" ng-if="!ALWAYS_ACTIVE"><small ng-bind="ONLINE_FTIME+' - '+ONLINE_TTIME" class="font-12 text-black-50"></small></div>
                        <div class="col" ng-if="ALWAYS_ACTIVE"><small class="font-12 text-black-50">ALWAYS ACTIVE</small></div>
                        <!-- <div class="col"><small ng-bind="ONLINE_TTIME" class="font-12 text-black-50"></small></div> -->
                      </div>
                </button>

                <button class="btn btn-primary-my text-nowrap font-18 rounded shadow mx-2 d-flex align-items-center justify-content-between" 
                      data-toggle="modal" data-target="#TaskTrackingModal" style="background: #29ca8a;border-color: #218a79;"
                      ng-click="clearTaskReviewFiels()">
                  <span>TASK REVIEW </span>
                  <div class="spinner-grow spinner-grow-sm text-dark ml-2" role="status" ng-if="spinTaskTo">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <b class="text-warning badge badge-dark ml-2" ng-bind="TotalTaskReviewCount"></b>
                </button>

                <button onclick="window.open('TestProgress_T.html')" class="btn btn-primary-my text-nowrap font-18 rounded shadow mx-2 d-flex align-items-center justify-content-between" 
                      style="background: #5361dd;border-color: #4476e4;">
                      <span class="text-white">TEST PROGRESS </span>
              </button>
                
              </div>
              <div class="col-sm-12 col-md-6 col-lg-4">
                <h4 class="home-title"><span>Welcome {{userFName}} {{userLName}}</span></h4>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-4 d-flex align-items-center justify-content-center justify-content-md-end
                      animate__animated animate__headShake animate__infinite infinite">
                <button class="btn btn-primary-my text-nowrap font-18 rounded shadow mx-2" data-toggle="modal" data-target="#referralModal"  style="background: #4c219a;border-color: #22094f;">
                  Refer a friend and earn <b class="text-warning"><i class="fa fa-usd" aria-hidden="true"></i><i class="fa fa-usd" aria-hidden="true"></i></b>
                </button>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12">
              <div class="row justify-content-between">
                <div class="col-sm-12 col-lg-6">
                  <!-- Attendance -->

                  <div class="table-responsive att-table mt-3 custom-scrollbar Sticky-table-head-foot border">
                    <table class="table table-bordered table-hover bg-white table-sm mb-0">
                      <thead>
                        <tr class="bg-secondary">
                          <th colspan="100%">
                            <h4 class="text-center text-light font-weight-bold mb-0">ATTENDANCE</h4>
                          </th>
                        </tr>
                        <tr class="bg-light">
                            <th>#</th>
                            <th>Date</th>
                            <th>Plan</th>
                            <th>Time IN</th>
                            <th>Time OUT</th>
                            <th>Remark</th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr title="{{x.TAID}}" ng-repeat="x in post.getTeacherAtt | filter : temp.txtSerarch">
                            <td data-ng-bind="$index+1"></td>
                            <td class="text-nowrap" ng-bind="x.ATTDATE"></td>
                            <td ng-bind="x.PLANNAME"></td>
                            <td class="text-nowrap" ng-bind="x.TIME_IN"></td>
                            <td class="text-nowrap" ng-bind="x.TIME_OUT"></td>
                            <td ng-bind="x.REMARKS"></td>
                        </tr>
                      </tbody>

                      <tfoot>
                        <tr ng-hide="post.getTeacherAtt.length>0">
                          <td colspan="100%" class="text-center text-danger">No Record</td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
                  
                  
                  <!-- REFERRALS -->
                  <div class="table-responsive att-table mt-3 custom-scrollbar Sticky-table-head-foot border">
                    <table class="table table-bordered table-hover bg-white table-sm mb-0">
                      <thead>
                        <tr class="bg-secondary">
                          <th colspan="100%">
                            <h4 class="text-center text-light font-weight-bold mb-0">REFERRALS <i class="fa fa-spinner fa-spin spinReferrals" style="display: none;"></i></h4>
                          </th>
                        </tr>
                        <tr class="bg-light">
                          <th>#</th>
                          <th>Date</th>
                          <th>Referral</th>
                          <th>Relation</th>
                          <th>Course</th>
                          <th>Name</th>
                          <th>Referral_Amt</th>
                          <th>Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="x in post.getReferrals track by $index">
                          <td data-ng-bind="$index+1"></td>
                          <td ng-bind="x.REFDATE"></td>
                          <td ng-bind="x.REFERRAL_NAME"></td>
                          <td ng-bind="x.RELATION"></td>
                          <td ng-bind="x.COURSE"></td>
                          <td ng-bind="x.FIRSTNAME+' '+x.LASTNAME"></td>
                          <td>
                            <div>
                              <span ng-bind="x.REFERRAL_AMT > 0 ? x.REFERRAL_AMT : '&#8212;'"></span>
                              <span ng-show="x.REFERRAL_ON!=''" ng-bind="x.REFERRAL_ON !='' ? '('+x.REFERRAL_ON_SHOW+')' : '&#8212;'"></span>
                            </div>
                            <!-- <div ng-show="x.REFERRAL_ON!=''" ng-bind="x.REFERRAL_ON !='' ? '('+x.REFERRAL_ON_SHOW+')' : '&#8212;'"></div> -->
                          </td>
                          <td>
                            <h4 ng-bind="x.REF_STATUS" class="mb-0 font-weight-bold"></h4>
                            <small ng-show="x.REF_REMARKS && x.REF_REMARKS!=''" ng-bind="'('+x.REF_REMARKS+')'"></small>
                          </td>
                        </tr>
                      </tbody>
                      <tr ng-hide="post.getReferrals.length>0">
                        <td colspan="100%" class="text-center text-danger">No Referral</td>
                      </tr>
                    </table>
                  </div>
                </div>


                <div class="col-sm-12 col-lg-4">
                  <!-- Announcement -->
                  <div class="table-responsive ann-table mt-3 custom-scrollbar Sticky-table-head-foot border">
                    <table class="table table-bordered table-hover bg-white table-sm mb-0">
                      <thead>
                        <tr class="bg-secondary">
                          <th colspan="100%">
                            <h4 class="text-center text-light font-weight-bold mb-0">ANNOUNCEMENT</h4>
                          </th>
                        </tr>
                        <tr class="bg-light">
                            <th>#</th>
                            <th>Date</th>
                            <th>Announcement</th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr title="{{x.ANID}}" ng-repeat="x in post.getAnnouncement | filter : temp.txtSerarch">
                            <td data-ng-bind="$index+1"></td>
                            <td class="text-nowrap" ng-bind="x.ANDATE"></td>
                            <td ng-bind="x.ANNOUNCEMENT"></td>
                        </tr>
                      </tbody>

                      <tfoot>
                        <tr ng-hide="post.getAnnouncement.length>0">
                          <td colspan="100%" class="text-center text-danger">No Record</td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
                </div>


                <div class="col-sm-12 col-md-6"></div>
              </div>
            </div>
          </div>
      </section>
    </div>
	</div>
  <div id="_mobile_column_left" class="container"></div>
  <div id="_mobile_column_right" class="container"></div>


    <!-- Modal -->
<div class="modal fade" id="TaskTrackingModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="TaskTrackingModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title font-weight-bold" id="TaskTrackingModalLabel">TASK REVIEW</h4>
        <button type="button" class="close" data-dismiss="modal" ng-click="GET_TTID=0" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body pt-0">
        <div ng-include="'../backoffice/include/Task_Review_Include.html'"></div>

        <div class="row d-print-none mt-2">
          <div class="col-md-4 col-lg-3 col-sm-12">
            <div class="form-group mb-0">
              <label class="font-weight-bold" for="txtSerarch">Search by Anything :</label>
              <input type="text" class="form-control py-0" id="txtSerarch" data-ng-model="temp.txtSerarch"
                placeholder="Type Here..." onfocus="select()" autocomplete="off" required>
            </div>
          </div>
        </div>

        <div class="row d-print-none" ng-if="spinTaskTo">
          <div class="col-12 text-center">
            <div class="spinner-grow" role="status">
              <span class="sr-only">Loading...</span>
            </div>
            <div class="spinner-grow" role="status">
              <span class="sr-only">Loading...</span>
            </div>
            <div class="spinner-grow" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>

        <div class="table-responsive pb-0">
          <table class="table table-bordered table-hover bg-white table-sm table2excel"
            ng-init="myOrderBY=''">
            <thead>
              <tr class="bg-light rounded px-2">
                <th class="table-sort-none">#</th>
                <th ng-click="setMyOrderBY('LOCATION')">Location</th>
                <th>Category</th>
                <th>Assigned To</th>
                <th>Grade</th>
                <th>Subject</th>
                <th>Task Desc</th>
                <th>Link</th>
                <th>Start Date</th>
                <th class="noExl d-print-none table-sort-none text-center">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr  ng-class="{'bg-dark text-white' : x.TASKMGMTID == GET_TASKMGMTID}"
                ng-repeat="x in post.TotalTaskView |filter : temp.txtSerarch"
                ng-dblclick="edit(x)">
                <td data-ng-bind="$index+1"></td>
                <td ng-bind="x.LOCATIONS"></td>
                <td>
                  <span class="font-weight-bold" ng-bind="x.TASKMAINCAT"></span><br>
                  <span ng-bind="x.TASKCAT"></span>
                </td>
                <td ng-bind="x.ASSIGNEDTO_NAME"></td>
                <td ng-bind="x.GRADE"></td>
                <td ng-bind="x.SUBJECT"></td>
                <td ng-bind="x.TASK_DESC"></td>
                <td class="text-center">
                  <a href="{{x.TASKFILE}}" class="text-primary" target="_blank">{{x.TASKFILE}}</a>
                </td>
                <td ng-bind="x.STARTDATE"></td>
                <td style="width:10%" class="noExl d-print-none text-center">
                  <div class="btn-group" role="group" aria-label="action">
                    <button title="Reply" type="button" class="btn btn-success" data-ng-click="GetDetails(x)">
                      <i class="fa fa-reply" aria-hidden="true"></i></button>
                      <button title="Close" type="button" class="btn btn-danger" ng-if="x.TASKSTATUS != 'CLOSED'" data-ng-click="ClosedTask(x)">CLOSE</button>
                      <button title="Closed" type="button" class="btn btn-light border" disabled="true" data-ng-click="GetDetails(x)" ng-if="x.TASKSTATUS == 'CLOSED'">CLOSED</button>
                  </div>
                </td>
              </tr>
              <tr ng-hide="post.TotalTaskView.length>0">
                <td colspan="100%" class="text-center text-danger noExl">No Records</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- GOTO ONLINE Modal -->
<div class="modal fade" id="onOffModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="onOffModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header py-2">
        <h4 class="modal-title" id="onOffModalLabel">Online/Offline <i class="fa fa-spinner fa-spin" ng-if="itsChecking" aria-hidden="true"></i></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form novalidate name="onOffForm" class="d-print-none" enctype="multipart/form-data" autocomplete="off">
          <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-3">
              <div class="form-group d-flex flex-column align-items-center">
                <label for="chkAlwaysActive" class="text-nowrap">Always Active</label>
                <div class="">
                  <input class="form-check-input largerCheckbox m-0 alwayAct" type="checkbox" ng-disabled="temp.tosid"  ng-click="setAlwaysOnline()" id="chkAlwaysActive" data-ng-model="temp.chkAlwaysActive" ng-true-value="1" ng-false-value="0">
                  <!-- <label class="form-check-label" for="chkAlwaysOn"></label> -->
                </div>
              </div>
            </div>

            <div class="col-md-12 col-lg-4 col-sm-12">
              <div class="form-group">
                  <label for="txtFromDT">From Time:<span class="text-danger">*</span></label>
                  <input type="time" class="form-control" id="txtFromDT" min="{{minFromDT}}" ng-disabled="temp.chkAlwaysActive" ng-change="setTomin()" data-ng-model="temp.txtFromDT" autocomplete="off" required>
              </div>
            </div>

            <div class="col-sm-12 col-md-12 col-lg-4">
              <div class="form-group">
                <label for="txtToDT">To Time :<span class="text-danger">*</span></label>
                <input type="time" class="form-control" id="txtToDT" min="{{minToDT}}" ng-disabled="temp.chkAlwaysActive"  data-ng-model="temp.txtToDT" autocomplete="off" required>
              </div>
            </div>

            <div class="col-md-12 col-lg-12 col-sm-12 d-flex align-items-end justify-content-center py-3" ng-hide="ALWAYS_ACTIVE">
              <!-- <button class="btn btn-outline-danger btn-sm mr-1" data-ng-click="clearForm()">CLEAR</button> -->
              <button ng-disabled="onOffForm.$invalid" data-ng-hide="temp.tosid" data-ng-disabled="all" type="submit" class="btn btn-dark btn-sm btn-save-onoff" data-ng-click="saveOnline()">SAVE</button>
              <button title="goto offline" data-ng-hide="!temp.tosid" class="btn btn-danger btn-sm btn-close-onoff mx-1" data-ng-click="gotoOffline()">OFFLINE</button>
              <button ng-disabled="onOffForm.$invalid" data-ng-hide="!temp.tosid" class="btn btn-warning btn-sm btn-update-onoff mx-1" data-ng-click="saveOnline()">UPDATE</button>
            </div>
          </div>

          <table class="table table-bordered table-sm table-hover">
            <thead class="bg-dark text-white">
              <tr> 
                <th colspan="100%" class="text-center">LAST 5 LOGS</th>
              </tr>
              <tr>
                <th>DATE</th>
                <th>FROM TIME</th>
                <th>TO TIME</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="x in post.getOnlineStatusTop5 track by $index" ng-class="!x.ONLINE_STATUS ? 'table-danger' : 'table-success'">
                <td ng-bind="x.INSERTDATE"></td>
                <td ng-bind="x.ONTIME"></td>
                <td ng-bind="x.OUTTIME"></td>
              </tr>
            </tbody>
          </table>
          
        </form>
      </div>
      <!-- <div class="modal-footer py-2">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  <!-- ====================== Referral Modal ====================== -->
  <div ng-include="'../student_zone/include/referral_modal.html?ver=4'"></div>
  <!-- ====================== Referral Modal ====================== -->


  <div class="mt-auto" ng-include="'include/footer.html'"></div>

</body></html>   